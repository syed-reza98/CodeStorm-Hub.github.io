<!-- Breadcrumb Navigation -->
{% unless page.url == '/' %}
<nav class="breadcrumb-nav" aria-label="Breadcrumb navigation">
    <div class="container">
        <ol class="breadcrumb" itemscope itemtype="https://schema.org/BreadcrumbList">
            <li class="breadcrumb-item" itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem">
                <a href="{{ '/' | relative_url }}" itemprop="item">
                    <span itemprop="name">Home</span>
                </a>
                <meta itemprop="position" content="1" />
            </li>
            
            {% assign crumbs = page.url | remove:'/index.html' | split: '/' %}
            {% assign position = 2 %}
            
            {% for crumb in crumbs offset: 1 %}
                {% unless crumb == '' %}
                    {% assign crumb_limit = forloop.index | plus: 1 %}
                    {% assign crumb_url = '' %}
                    {% for part in crumbs limit: crumb_limit %}
                        {% unless part == '' %}
                            {% assign crumb_url = crumb_url | append: '/' | append: part %}
                        {% endunless %}
                    {% endfor %}
                    
                    <li class="breadcrumb-separator" aria-hidden="true">/</li>
                    <li class="breadcrumb-item" itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem">
                        {% if forloop.last %}
                            <span class="breadcrumb-current" itemprop="name">{{ page.title | default: crumb | capitalize }}</span>
                        {% else %}
                            <a href="{{ crumb_url | relative_url }}" itemprop="item">
                                <span itemprop="name">{{ crumb | capitalize }}</span>
                            </a>
                        {% endif %}
                        <meta itemprop="position" content="{{ position }}" />
                    </li>
                    {% assign position = position | plus: 1 %}
                {% endunless %}
            {% endfor %}
        </ol>
    </div>
</nav>

<style>
.breadcrumb-nav {
    background: var(--bg-secondary);
    border-bottom: 1px solid var(--border-color);
    padding: var(--space-4) 0;
    margin-top: 80px;
}

.breadcrumb {
    display: flex;
    align-items: center;
    list-style: none;
    margin: 0;
    padding: 0;
    font-size: var(--text-sm);
    color: var(--text-secondary);
}

.breadcrumb-item {
    display: flex;
    align-items: center;
}

.breadcrumb-item a {
    color: var(--text-secondary);
    text-decoration: none;
    transition: var(--transition-fast);
}

.breadcrumb-item a:hover {
    color: var(--primary-color);
}

.breadcrumb-current {
    color: var(--text-color);
    font-weight: 500;
}

.breadcrumb-separator {
    margin: 0 var(--space-2);
    color: var(--text-muted);
}

@media (max-width: 768px) {
    .breadcrumb {
        font-size: var(--text-xs);
        flex-wrap: wrap;
    }
    
    .breadcrumb-separator {
        margin: 0 var(--space-1);
    }
}
</style>
{% endunless %}